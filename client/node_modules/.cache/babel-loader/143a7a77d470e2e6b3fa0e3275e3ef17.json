{"ast":null,"code":"import { AUTH_FORM_SUCCESS, AUTH_FORM_FAIL, AUTH_ERROR, USER_IS_LOADED, LOG_OUT, CHANGE_PASSWORD_FAIL, CHECK_PASSWORDS, CHANGE_PROFILE, CHANGE_USER_DATA_FAILED, GET_USERS, SEARCH_BY_USERNAME } from \"../constants/auth.constants\";\nconst initialState = {\n  token: localStorage.getItem(\"token\"),\n  users: [],\n  user: {},\n  errors: {},\n  isLoggedIn: false,\n  isAllowedToChangePassword: false,\n  isPasswordChanged: false,\n  isLoading: false\n};\n\nconst auth = (state = initialState, action) => {\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case AUTH_FORM_SUCCESS:\n      localStorage.setItem(\"token\", payload.token);\n      return { ...state,\n        ...payload,\n        isLoggedIn: true,\n        isAllowedToChangePassword: false,\n        isPasswordChanged: false,\n        isLoading: false,\n        errors: {}\n      };\n\n    case CHANGE_PROFILE:\n      return { ...state,\n        ...payload,\n        isLoggedIn: true,\n        isAllowedToChangePassword: false,\n        isPasswordChanged: false,\n        isLoading: false,\n        errors: null\n      };\n\n    case CHECK_PASSWORDS:\n      return { ...state,\n        ...payload,\n        isAllowedToChangePassword: true,\n        errors: {}\n      };\n\n    case GET_USERS:\n    case SEARCH_BY_USERNAME:\n      return { ...state,\n        users: [...payload],\n        isLoggedIn: true,\n        isAllowedToChangePassword: false,\n        isPasswordChanged: false,\n        isLoading: false,\n        errors: null\n      };\n\n    case AUTH_FORM_FAIL:\n    case AUTH_ERROR:\n    case LOG_OUT:\n      localStorage.removeItem(\"token\");\n      return { ...state,\n        ...payload,\n        errors: payload,\n        user: {},\n        isLoggedIn: false,\n        isAllowedToChangePassword: false,\n        isPasswordChanged: false,\n        isLoading: false\n      };\n\n    case CHANGE_PASSWORD_FAIL:\n    case CHANGE_USER_DATA_FAILED:\n      return { ...state,\n        errors: payload\n      };\n\n    case USER_IS_LOADED:\n      localStorage.getItem(\"token\");\n      return { ...state,\n        ...payload,\n        user: payload,\n        errors: {},\n        isLoggedIn: true,\n        isAllowedToChangePassword: false,\n        isPasswordChanged: false,\n        isLoading: false\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default auth;","map":{"version":3,"sources":["C:/Users/John/Final-Project/Ask-Away/client/src/reducers/auth.reducer.js"],"names":["AUTH_FORM_SUCCESS","AUTH_FORM_FAIL","AUTH_ERROR","USER_IS_LOADED","LOG_OUT","CHANGE_PASSWORD_FAIL","CHECK_PASSWORDS","CHANGE_PROFILE","CHANGE_USER_DATA_FAILED","GET_USERS","SEARCH_BY_USERNAME","initialState","token","localStorage","getItem","users","user","errors","isLoggedIn","isAllowedToChangePassword","isPasswordChanged","isLoading","auth","state","action","type","payload","setItem","removeItem"],"mappings":"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","sourcesContent":["import {\r\n    AUTH_FORM_SUCCESS,\r\n    AUTH_FORM_FAIL,\r\n    AUTH_ERROR,\r\n    USER_IS_LOADED,\r\n    LOG_OUT,\r\n    CHANGE_PASSWORD_FAIL,\r\n    CHECK_PASSWORDS,\r\n    CHANGE_PROFILE,\r\n    CHANGE_USER_DATA_FAILED,\r\n    GET_USERS,\r\n    SEARCH_BY_USERNAME,\r\n  } from \"../constants/auth.constants\";\r\n  \r\n  const initialState = {\r\n    token: localStorage.getItem(\"token\"),\r\n    users: [],\r\n    user: {},\r\n    errors: {},\r\n    isLoggedIn: false,\r\n    isAllowedToChangePassword: false,\r\n    isPasswordChanged: false,\r\n    isLoading: false,\r\n  };\r\n  \r\n  const auth = (state = initialState, action) => {\r\n    const { type, payload } = action;\r\n    switch (type) {\r\n      case AUTH_FORM_SUCCESS:\r\n        localStorage.setItem(\"token\", payload.token);\r\n        return {\r\n          ...state,\r\n          ...payload,\r\n          isLoggedIn: true,\r\n          isAllowedToChangePassword: false,\r\n          isPasswordChanged: false,\r\n          isLoading: false,\r\n          errors: {},\r\n        };\r\n      case CHANGE_PROFILE:\r\n        return {\r\n          ...state,\r\n          ...payload,\r\n          isLoggedIn: true,\r\n          isAllowedToChangePassword: false,\r\n          isPasswordChanged: false,\r\n          isLoading: false,\r\n          errors: null,\r\n        };\r\n      case CHECK_PASSWORDS:\r\n        return {\r\n          ...state,\r\n          ...payload,\r\n          isAllowedToChangePassword: true,\r\n          errors: {},\r\n        };\r\n  \r\n      case GET_USERS:\r\n      case SEARCH_BY_USERNAME:\r\n        return {\r\n          ...state,\r\n          users: [...payload],\r\n          isLoggedIn: true,\r\n          isAllowedToChangePassword: false,\r\n          isPasswordChanged: false,\r\n          isLoading: false,\r\n          errors: null,\r\n        };\r\n      case AUTH_FORM_FAIL:\r\n      case AUTH_ERROR:\r\n      case LOG_OUT:\r\n        localStorage.removeItem(\"token\");\r\n        return {\r\n          ...state,\r\n          ...payload,\r\n          errors: payload,\r\n          user: {},\r\n          isLoggedIn: false,\r\n          isAllowedToChangePassword: false,\r\n          isPasswordChanged: false,\r\n          isLoading: false,\r\n        };\r\n      case CHANGE_PASSWORD_FAIL:\r\n      case CHANGE_USER_DATA_FAILED:\r\n        return {\r\n          ...state,\r\n          errors: payload,\r\n        };\r\n      case USER_IS_LOADED:\r\n        localStorage.getItem(\"token\");\r\n        return {\r\n          ...state,\r\n          ...payload,\r\n          user: payload,\r\n          errors: {},\r\n          isLoggedIn: true,\r\n          isAllowedToChangePassword: false,\r\n          isPasswordChanged: false,\r\n          isLoading: false,\r\n        };\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n  \r\n  export default auth;"]},"metadata":{},"sourceType":"module"}