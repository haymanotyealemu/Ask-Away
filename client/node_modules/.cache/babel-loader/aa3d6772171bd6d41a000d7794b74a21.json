{"ast":null,"code":"import axios from \"axios\";\nimport { USER_IS_LOADED, AUTH_ERROR } from \"../../constants/auth.constants\";\nimport setAuthenticationToken from \"../../middleware/setAuthenticationToken\";\nexport const userLoaded = () => async dispatch => {\n  if (localStorage.getItem(\"token\")) {\n    setAuthenticationToken(localStorage.getItem(\"token\"));\n  }\n\n  try {\n    const res = await axios.get(\"http://localhost:7000/api/users/\");\n    dispatch({\n      type: USER_IS_LOADED,\n      payload: res.data\n    });\n  } catch (error) {\n    console.log(error.message);\n    dispatch({\n      type: AUTH_ERROR\n    });\n  }\n};","map":{"version":3,"sources":["C:/Users/John/Final-Project/Ask-Away/client/src/actions/auth.actions/userLoaded.js"],"names":["axios","USER_IS_LOADED","AUTH_ERROR","setAuthenticationToken","userLoaded","dispatch","localStorage","getItem","res","get","type","payload","data","error","console","log","message"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,EAAyBC,UAAzB,QAA2C,gCAA3C;AACA,OAAOC,sBAAP,MAAmC,yCAAnC;AAEA,OAAO,MAAMC,UAAU,GAAG,MAAM,MAAOC,QAAP,IAAoB;AAClD,MAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAJ,EAAmC;AACjCJ,IAAAA,sBAAsB,CAACG,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAD,CAAtB;AACD;;AACD,MAAI;AACF,UAAMC,GAAG,GAAG,MAAMR,KAAK,CAACS,GAAN,CAAU,kCAAV,CAAlB;AACAJ,IAAAA,QAAQ,CAAC;AACPK,MAAAA,IAAI,EAAET,cADC;AAEPU,MAAAA,OAAO,EAAEH,GAAG,CAACI;AAFN,KAAD,CAAR;AAID,GAND,CAME,OAAOC,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB;AACAX,IAAAA,QAAQ,CAAC;AACPK,MAAAA,IAAI,EAAER;AADC,KAAD,CAAR;AAGD;AACF,CAhBM","sourcesContent":["import axios from \"axios\";\r\nimport { USER_IS_LOADED, AUTH_ERROR } from \"../../constants/auth.constants\";\r\nimport setAuthenticationToken from \"../../middleware/setAuthenticationToken\";\r\n\r\nexport const userLoaded = () => async (dispatch) => {\r\n  if (localStorage.getItem(\"token\")) {\r\n    setAuthenticationToken(localStorage.getItem(\"token\"));\r\n  }\r\n  try {\r\n    const res = await axios.get(\"http://localhost:7000/api/users/\");\r\n    dispatch({\r\n      type: USER_IS_LOADED,\r\n      payload: res.data,\r\n    });\r\n  } catch (error) {\r\n    console.log(error.message);\r\n    dispatch({\r\n      type: AUTH_ERROR,\r\n    });\r\n  }\r\n};"]},"metadata":{},"sourceType":"module"}