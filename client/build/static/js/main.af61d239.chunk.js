(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{94:function(e,t,s){},95:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(1),c=s(22),r=s.n(c),o=s.p+"static/media/comment3.e4404548.jpg",i=s(6),l=function(){return Object(a.jsxs)("div",{className:"landing-wrapper",children:[Object(a.jsxs)("div",{className:"text-wrapper",children:[Object(a.jsxs)("div",{className:"text-header-wrapper",children:[Object(a.jsx)("p",{className:"text-header font__p p__size",children:"Welcome in"}),Object(a.jsx)("span",{className:"larger",children:"Ask Away! "})]}),Object(a.jsxs)("div",{className:"text-section font__p p__size",children:[Object(a.jsx)("span",{className:"app_color_font style",children:"Ask Away!"})," is a new forum about achieving success",Object(a.jsx)("br",{}),"If You are looking for answers on questions like:",Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"How to start my business?"}),Object(a.jsx)("li",{children:"How to grow company?"}),Object(a.jsx)("li",{children:"How to improve yourself every day"}),Object(a.jsx)("li",{children:"or You just want to share Your story"})]}),Object(a.jsxs)("div",{className:"text-button-wrapper",children:[Object(a.jsx)(i.b,{to:"/register",children:"Register in"})," and add post!"]})]})]}),Object(a.jsx)("div",{className:"image-wrapper",children:Object(a.jsx)("img",{src:o,className:"image",alt:""})})]})},p=s(17),u=s(4),d=s(9),j=s(2),h=s.n(j),b=s(5),m=s(3),f=s.n(m),_="AUTH_FORM_SUCCESS",O="AUTH_FORM_FAIL",x="AUTH_ERROR",v="USER_IS_LOADED",g="LOG_OUT",N="CHECK_PASSWORDS",y="CHANGE_PASSWORD_FAIL",k="CHANGE_PROFILE",w="CHANGE_USER_DATA_FAILED",T="GET_USERS",C="SEARCH_BY_USERNAME",P=function(e){e?f.a.defaults.headers.common["authentication-token"]=e:delete f.a.defaults.headers.common["authentication-token"]},S=function(){return function(){var e=Object(b.a)(h.a.mark((function e(t){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.getItem("token")&&P(localStorage.getItem("token")),e.prev=1,e.next=4,f.a.get("http://localhost:8000/api/users/");case 4:s=e.sent,t({type:v,payload:s.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message),t({type:x});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},M=s(7),L=function(e){var t=e.errorMessage;return Object(a.jsx)("div",{children:Object(a.jsx)("p",{className:"font__bold font__p p__size",style:{color:"#fb2f2f",textAlign:"center"},children:t})})},E=Object(M.b)((function(e){return{error:e.auth.errors}}),{loginUser:function(e){return function(){var t=Object(b.a)(h.a.mark((function t(s){var a,n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={headers:{"Content-Type":"application/json"}},n=JSON.stringify(e),t.next=5,f.a.post("http://localhost:8000/api/users/login",n,a);case 5:c=t.sent,s({type:_,payload:c.data}),s(S()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),s({type:O,payload:t.t0});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.loginUser,s=e.error,c=Object(n.useState)({email:"",password:""}),r=Object(d.a)(c,2),o=r[0],l=r[1],j=o.email,h=o.password,b=function(e){return l(Object(u.a)(Object(u.a)({},o),{},Object(p.a)({},e.target.name,e.target.value)))};return Object(a.jsx)("main",{className:"register-page-wrapper",children:Object(a.jsx)("form",{className:"register-section",children:Object(a.jsxs)("div",{className:"inputs-wrapper",children:[Object(a.jsx)("header",{className:"register-header-wrapper",children:Object(a.jsxs)("p",{className:"font__p p__size register-header",children:[Object(a.jsx)("i",{className:"fas fa-users users-icon app_color_font"}),"Log in"]})}),Object(a.jsx)("div",{className:"label-wrapper",children:Object(a.jsx)("label",{className:"label__register p__size",children:"E-mail"})}),Object(a.jsx)("input",{name:"email",value:j,type:"email",onChange:function(e){return b(e)}}),Object(a.jsx)("div",{className:"label-wrapper",children:Object(a.jsx)("label",{className:"label__register p__size",children:"Password"})}),Object(a.jsx)("input",{name:"password",type:"password",value:h,onChange:function(e){return b(e)}}),Object(a.jsx)("div",{className:"label-wrapper",children:Object(a.jsx)(i.b,{to:"/register",children:Object(a.jsx)("p",{className:"p__size font__p password__info",children:"Sign up"})})}),s&&(null!==s||""!==s||s!=={})&&Object(a.jsx)(L,{errorMessage:"Wrong e-mail or password"}),Object(a.jsx)("div",{className:"button-wrapper app_color_background",onClick:function(e){return t(o)},children:Object(a.jsx)("p",{className:"button-letter",children:"Log in"})})]})})})})),R=Object(M.b)((function(e){return{error:e.auth.errors}}),{registerUser:function(e){return function(){var t=Object(b.a)(h.a.mark((function t(s){var a,n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={headers:{"Content-Type":"application/json"}},n=JSON.stringify(e),t.next=5,f.a.post("http://localhost:8000/api/users/register",n,a);case 5:c=t.sent,s({type:_,payload:c.data}),s(S()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),s({type:O,payload:t.t0});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.registerUser,s=e.error,c=Object(n.useState)(!1),r=Object(d.a)(c,2),o=r[0],i=r[1],l=Object(n.useState)({firstName:"",lastName:"",userName:"",email:"",password:""}),j=Object(d.a)(l,2),h=j[0],b=j[1],m=h.firstName,f=h.lastName,_=h.userName,O=h.email,x=h.password,v=function(e){return b(Object(u.a)(Object(u.a)({},h),{},Object(p.a)({},e.target.name,e.target.value)))};return Object(a.jsx)("main",{className:"register-page-wrapper",children:Object(a.jsx)("form",{className:"register-section",children:Object(a.jsxs)("div",{className:"inputs-wrapper",children:[Object(a.jsx)("header",{className:"register-header-wrapper",children:Object(a.jsxs)("p",{className:"font__p p__size register-header",children:[Object(a.jsx)("i",{className:"fas fa-users users-icon app_color_font"}),"Sign Up"]})}),Object(a.jsx)("div",{className:"label-wrapper",children:Object(a.jsx)("label",{className:"label__register p__size",children:"first Name"})}),Object(a.jsx)("input",{type:"text",name:"firstName",value:m,onChange:function(e){return v(e)}}),Object(a.jsx)("div",{className:"label-wrapper",children:Object(a.jsx)("label",{className:"label__register p__size",children:"Last Name"})}),Object(a.jsx)("input",{type:"text",value:f,name:"lastName",onChange:function(e){return v(e)}}),Object(a.jsx)("div",{className:"label-wrapper",children:Object(a.jsx)("label",{className:"label__register p__size",children:"Username"})}),Object(a.jsx)("input",{type:"text",name:"userName",value:_,onChange:function(e){return v(e)}}),Object(a.jsx)("div",{className:"label-wrapper",children:Object(a.jsx)("label",{className:"label__register p__size",children:"E-mail"})}),Object(a.jsx)("input",{name:"email",value:O,type:"email",onChange:function(e){return v(e)}}),Object(a.jsx)("div",{className:"label-wrapper",children:Object(a.jsx)("label",{className:"label__register p__size",children:"Password"})}),Object(a.jsx)("input",{name:"password",type:o?"text":"password",value:x,onChange:function(e){return v(e)}}),Object(a.jsx)("i",{onClick:function(){return i(!o)},className:o?"fas fa-eye":"fas fa-eye-slash"}),Object(a.jsx)("div",{className:"label-wrapper",children:Object(a.jsxs)("p",{className:"p__size font__p password__info",children:[Object(a.jsx)("i",{className:"fas fa-user-check app_color_font"})," Password must have at least 6 letters"]})}),s&&(null!==s||""!==s||s!=={})&&Object(a.jsx)(L,{errorMessage:"Something went wrong..."}),Object(a.jsx)("div",{className:"button-wrapper app_color_background",onClick:function(){return t(h)},children:Object(a.jsx)("p",{className:"button-letter",children:"Sign Up"})})]})})})})),z=function(){return Object(a.jsxs)("div",{className:"dashboard-wrapper",children:[Object(a.jsx)("div",{className:"image-wrapper",children:Object(a.jsx)("img",{src:o,alt:"",className:"dashboard-image"})}),Object(a.jsx)("div",{className:"dashboard-links-wrapper",children:Object(a.jsxs)("div",{className:"dashboard-links",children:[Object(a.jsx)("div",{className:"dashboard-link font__p font__bold p__size",children:Object(a.jsx)(i.b,{to:"/my-profile",className:"dashboard-link-href",children:"My Profile"})}),Object(a.jsx)("div",{className:"dashboard-link font__p font__bold p__size",children:Object(a.jsx)(i.b,{to:"/change-profile",className:"dashboard-link-href",children:"Change Profile"})}),Object(a.jsx)("div",{className:"dashboard-link font__p font__bold p__size",children:Object(a.jsx)(i.b,{to:"/contact-us",className:"dashboard-link-href",children:"Contact Us"})}),Object(a.jsx)("div",{className:"dashboard-link font__p font__bold p__size",children:Object(a.jsx)(i.b,{to:"/change-password",className:"dashboard-link-href",children:"Change password"})})]})})]})},A=function(){return Object(a.jsx)("div",{className:"change-profile-page-wrapper",children:Object(a.jsxs)("div",{className:"change-profile-section p__size font__bold font__p",children:[Object(a.jsx)("p",{children:"If you want to contact with us:"}),Object(a.jsx)("p",{children:"send email on"}),Object(a.jsx)("p",{className:"app_color_font",children:"Ask-Away@gmail.com"})]})})},U=Object(M.b)((function(e){return{posts:e.posts}}),{changeUserData:function(e,t){return function(){var s=Object(b.a)(h.a.mark((function s(a){var n,c,r;return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,n={headers:{"Content-Type":"application/json"}},c=JSON.stringify({changeUserData:e}),s.next=5,f.a.put("http://localhost:8000/api/users/change_user_data/".concat(t),c,n);case 5:r=s.sent,a({type:k,payload:r.data}),alert("Data has changed"),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(0),a({type:w,payload:s.t0});case 13:case"end":return s.stop()}}),s,null,[[0,10]])})));return function(e){return s.apply(this,arguments)}}()}})((function(e){var t=e.changeUserData,s=e.posts.errors,c=Object(n.useState)(""),r=Object(d.a)(c,2),o=r[0],i=r[1],l=Object(n.useState)(""),p=Object(d.a)(l,2),u=p[0],j=p[1],h=Object(n.useState)(!1),b=Object(d.a)(h,2),m=b[0],f=b[1],_=function(e){return i(e)};return Object(a.jsx)("div",{className:"change-profile-page-wrapper",children:""===o?Object(a.jsxs)("form",{className:"change-profile-section",children:[Object(a.jsx)("div",{className:"input-wrapper",onClick:function(){return _("userName")},children:Object(a.jsx)("p",{className:"font__bold p__size font__p",children:"Change Username"})}),Object(a.jsx)("div",{className:"input-wrapper",onClick:function(){return _("firstName")},children:Object(a.jsx)("p",{className:"font__bold p__size font__p",children:"Change first name"})}),Object(a.jsx)("div",{className:"input-wrapper",onClick:function(){return _("lastName")},children:Object(a.jsx)("p",{className:"font__bold p__size font__p",children:"Change last name"})})]}):Object(a.jsxs)("form",{className:"change-profile-section",children:[Object(a.jsxs)("p",{className:"font__bold font__p p__size",children:["Add new ",o]}),Object(a.jsx)("input",{onChange:function(e){j(e.target.value)},type:"text",placeholder:"Type something...",className:"change-profile-input"}),s&&m&&Object(a.jsx)(L,{errorMessage:"Something went wrong..."}),Object(a.jsxs)("div",{className:"change-profile-buttons-wrapper",children:[Object(a.jsx)("div",{className:"change-profile-btn",onClick:function(){return function(){if(""===u||null===u)return f(!0);t(u,o),j(""),i("")}()},children:"Submit"}),Object(a.jsx)("div",{className:"change-profile-btn",onClick:function(){i("")},children:"Go back"})]})]})})})),I="USER_ERROR",D="GET_POST_BY_USER_ID",H="GET_USER_POSTS",Y="GET_USER_BY_ID",F=s(41),B=s.n(F),G=function(){return Object(a.jsx)(B.a,{type:"Bars",color:"#00BFFF",height:100,width:100,timeout:3e3})},J="MAKE_POST",K="POST_ERROR",V="REMOVE_POST",W="GET_POSTS",q="GET_POST",Q="CLEAR_POSTS",X="SEARCH_TOPICS",Z="MOST_LIKED_POSTS",$="MOST_COMMENTED",ee="ADD_LIKE",te="THE_MOST_RECENT_POSTS",se="REMOVE_LIKE_FROM_COMMENT",ae="CLEAR_POST",ne=function(){return function(){var e=Object(b.a)(h.a.mark((function e(t){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("http://localhost:8000/api/posts/user_posts");case 3:s=e.sent,t({type:H,payload:s.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:I,payload:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},ce=s(19),re=s.n(ce),oe={removePost:function(e){return function(){var t=Object(b.a)(h.a.mark((function t(s){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.delete("http://localhost:8000/api/posts/delete_post/".concat(e));case 3:a=t.sent,s({type:V,payload:a.data}),s(ne()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),s({type:K,payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}},ie=Object(M.b)((function(e){return{auth:e.auth}}),oe)((function(e){var t=e.post,s=e.removePost,n=e.auth;return console.log(t),null!==t&&t?Object(a.jsxs)("div",{className:"user-post",children:[Object(a.jsx)("div",{className:"user-post-date",children:Object(a.jsx)(re.a,{format:"HH:mm YYYY-MM-DD",children:t.date})}),Object(a.jsx)("div",{className:"user-post-topic",children:Object(a.jsx)("p",{className:"font__p font__bold",children:t.postText})}),Object(a.jsx)("div",{className:"post__likes__comments__deleteBtn-wrapper",children:Object(a.jsxs)("div",{className:"post__likes__comments__deleteBtn",children:[Object(a.jsxs)("div",{className:"user-post-likes",children:[Object(a.jsx)("i",{className:"far fa-thumbs-up"})," ",t.likes.length]}),Object(a.jsxs)("div",{className:"user-post-comments",children:[Object(a.jsx)("i",{className:"far fa-comment"}),t.comments.length]}),Object(a.jsx)("div",{style:{display:t.user===n.user._id?"block":"none"},children:Object(a.jsx)("div",{className:"removePostBtn app_color_background",onClick:function(){return s(t._id)},children:Object(a.jsx)("i",{className:"fas fa-times"})})}),Object(a.jsx)("div",{className:"link-to-post-page-button app_color_background font__p font__bold p__size",children:Object(a.jsx)(i.b,{to:"/topics/topic/".concat(t._id),children:"View More"})})]})})]}):Object(a.jsx)("div",{className:"all-page-wrapper flex__center",children:Object(a.jsx)(G,{})})})),le=function(e){var t=e.posts;return null!==t&&t.length>0&&t.map((function(e){return Object(a.jsx)(ie,{post:e},e._id)}))},pe=function(e){var t=e.userProfile;return Object(a.jsxs)("div",{className:"data-items",children:[Object(a.jsxs)("div",{className:"font__p data-item",children:[Object(a.jsx)("p",{style:{marginRight:".4em"},className:"font__bold",children:"first Name:"}),t.firstName]}),Object(a.jsxs)("div",{className:"font__p data-item",children:[Object(a.jsx)("p",{style:{marginRight:".4em"},className:"font__bold",children:"Last Name:"})," ",t.lastName]}),Object(a.jsxs)("div",{className:"font__p data-item",children:[Object(a.jsx)("p",{style:{marginRight:".4em"},className:"font__bold",children:"Username:"})," ",t.userName]}),Object(a.jsxs)("div",{className:"font__p data-item",children:[Object(a.jsx)("p",{style:{marginRight:".4em"},className:"font__bold",children:"E-mail:"})," ",t.email]})]})},ue=Object(M.b)((function(e){return{users:e.users,userProfile:e.users.userProfile,posts:e.posts}}),{getUserById:function(e){return function(){var t=Object(b.a)(h.a.mark((function t(s){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("http://localhost:8000/api/users/user_by_id/".concat(e));case 3:a=t.sent,s({type:Y,payload:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),s({type:I,payload:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getUserPostsById:function(e){return function(){var t=Object(b.a)(h.a.mark((function t(s){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("http://localhost:8000/api/posts/user_posts/".concat(e));case 3:a=t.sent,s({type:D,payload:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),s({type:I,payload:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.users,s=e.userProfile,c=e.posts.post,r=e.match,o=e.getUserById,i=e.getUserPostsById;return Object(n.useEffect)((function(){o(r.params.user_id),i(r.params.user_id)}),[]),t.profilePosts===[]||null===s||c===t.profilePosts?Object(a.jsx)("div",{className:"all-page-wrapper flex__center",children:Object(a.jsx)(G,{})}):Object(a.jsx)("div",{className:"account-page-wrapper",children:Object(a.jsxs)("div",{className:"data",children:[Object(a.jsx)("img",{src:s.avatar,alt:""}),Object(a.jsx)(pe,{userProfile:s}),Object(a.jsxs)("div",{className:"user-posts",children:[Object(a.jsx)("header",{className:"user-posts-header-wrapper app_color_background",children:null!==c||c!==[]?Object(a.jsx)("p",{className:"user-posts-header font__p font__bold",children:"His/Her posts"}):Object(a.jsx)("p",{className:"user-posts-header font__p font__bold",children:"He/She hasn't added post"})}),Object(a.jsx)(le,{posts:t.profilePosts})]})]})})})),de=function(){return function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:ae})}catch(s){t({type:K,payload:s})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},je=function(e){return function(){var t=Object(b.a)(h.a.mark((function t(s){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("http://localhost:8000/api/posts/".concat(e));case 3:a=t.sent,s({type:q,payload:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),s({type:K,payload:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},he={removeLikeFromComment:function(e,t,s){return function(){var a=Object(b.a)(h.a.mark((function a(n){var c;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.delete("http://localhost:8000/api/posts/remove_like_comment/".concat(e,"/").concat(t,"/").concat(s));case 3:c=a.sent,n({type:se,payload:c.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n({type:K,payload:a.t0});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},addLikeToComment:function(e,t){return function(){var s=Object(b.a)(h.a.mark((function s(a){var n;return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,f.a.put("http://localhost:8000/api/posts/like_comment/".concat(e,"/").concat(t));case 3:n=s.sent,a({type:"LIKE_COMMENT",payload:n.data}),a(je(e)),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(0),a({type:K,payload:s.t0});case 11:case"end":return s.stop()}}),s,null,[[0,8]])})));return function(e){return s.apply(this,arguments)}}()}},be=Object(M.b)((function(e){return{auth:e.auth,post:e.posts.post}}),he)((function(e){var t=e.comment,s=e.auth,n=e.post,c=e.removeLikeFromComment,r=e.addLikeToComment;return null===n||n===[]?Object(a.jsx)("div",{className:"all-page-wrapper flex__center",children:Object(a.jsx)(G,{})}):Object(a.jsxs)("div",{className:"topic-wrapper",children:[Object(a.jsx)("div",{className:"topic-date",children:Object(a.jsx)(re.a,{format:"HH:mm YYYY-MM-DD",children:t.date})}),Object(a.jsxs)("div",{className:"topic-user",children:[Object(a.jsx)("img",{src:t.avatar,className:"topic-avatar",alt:""}),Object(a.jsx)("p",{className:"font__p p__size",children:t.userName})]}),Object(a.jsxs)("div",{className:"topic-section",children:[Object(a.jsx)("p",{children:t.commentText}),Object(a.jsx)("div",{className:"topic-section-links",children:Object(a.jsxs)("div",{className:"like-section",style:{color:"rgb(42, 9, 9)"},onClick:function(){t.likes.find((function(e){return e.user===s.user._id}))?t.likes.find((function(e){return c(n._id,t._id,e._id)})):r(n._id,t._id)},children:[Object(a.jsx)("div",{className:"font__p font__bold p__size like-item",children:Object(a.jsx)("i",{className:t.likes.find((function(e){return e.user===s.user._id}))?"fas fa-thumbs-up":"far fa-thumbs-up"})}),Object(a.jsx)("div",{className:"font__p font__bold p__size likes-length-item",children:Object(a.jsx)("p",{children:t.likes.length})})]})})]})]},t._id)})),me=function(e){var t=e.comments;return null!==t&&t!==[]&&t!=={}&&t.length>0&&t.map((function(e){return Object(a.jsx)(be,{comment:e},e._id)}))},fe=function(e){var t=e.auth,s=e.post,n=e.addLikeToTopicPage,c=e.removeLikeFromPost;return Object(a.jsxs)("div",{className:"topic-wrapper",children:[Object(a.jsx)("div",{className:"topic-date",children:Object(a.jsx)(re.a,{format:"HH:mm YYYY-MM-DD",children:s.date})}),Object(a.jsxs)("div",{className:"topic-user",children:[Object(a.jsx)("img",{src:s.avatar,className:"topic-avatar",alt:""}),Object(a.jsx)("p",{className:"font__p p__size",children:s.userName})]}),Object(a.jsxs)("div",{className:"topic-section",children:[Object(a.jsx)("p",{children:s.postText}),Object(a.jsx)("div",{className:"topic-section-links",children:Object(a.jsx)("div",{className:"like-item",children:Object(a.jsxs)("p",{className:"font__p font__bold p__size hover",onClick:function(){s.likes.find((function(e){return e.user===t.user._id}))?s.likes.find((function(e){return c(s._id,e._id)})):n(s._id)},children:[Object(a.jsx)("i",{className:s.likes.find((function(e){return e.user===t.user._id}))?"fas fa-thumbs-up":"far fa-thumbs-up"}),s.likes.length]})})})]})]})},_e=function(e){var t=e.auth,s=e.createComment,c=e.post,r=Object(n.useState)(""),o=Object(d.a)(r,2),i=o[0],l=o[1];return Object(a.jsxs)("form",{className:"search-topic-wrapper",style:{display:t.isLoggedIn?"block":"none"},children:[Object(a.jsx)("p",{className:"app_color_font font__bold font__p topics-headline",style:{textAlign:"center"},children:"Create Post"}),Object(a.jsx)("textarea",{value:i,onChange:function(e){return function(e){return l(e.target.value)}(e)},type:"text"}),Object(a.jsx)("div",{className:"topic-search-button app_color_background font__p font__bold",onClick:function(){s(i,c._id),l("")},children:"Add comment"})]})},Oe={clearPost:de,getPost:je,removeLikeFromPost:function(e,t){return function(){var s=Object(b.a)(h.a.mark((function s(a){var n;return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,f.a.delete("http://localhost:8000/api/posts/remove_like/".concat(e,"/").concat(t));case 3:n=s.sent,a({type:V,payload:n.data}),a(je(e)),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(0),a({type:K,payload:s.t0});case 11:case"end":return s.stop()}}),s,null,[[0,8]])})));return function(e){return s.apply(this,arguments)}}()},addLikeToTopicPage:function(e){return function(){var t=Object(b.a)(h.a.mark((function t(s){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.put("http://localhost:8000/api/posts/likes/".concat(e));case 3:a=t.sent,s({type:ee,payload:a.data}),s(je(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),s({type:K,payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},createComment:function(e,t){return function(){var s=Object(b.a)(h.a.mark((function s(a){var n,c,r;return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,n={headers:{"Content-Type":"application/json"}},c=JSON.stringify({commentText:e}),s.next=5,f.a.put("http://localhost:8000/api/posts/add_comment/".concat(t),c,n);case 5:r=s.sent,a({type:"ADD_COMMENT",payload:r.data}),a(je(t)),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(0),a({type:K,payload:s.t0});case 13:case"end":return s.stop()}}),s,null,[[0,10]])})));return function(e){return s.apply(this,arguments)}}()}},xe=Object(M.b)((function(e){return{post:e.posts.post,auth:e.auth}}),Oe)((function(e){var t=e.clearPost,s=e.getPost,c=e.removeLikeFromPost,r=e.addLikeToTopicPage,o=e.createComment,i=e.match,l=e.auth,p=e.post;return Object(n.useEffect)((function(){t(),s(i.params.topic_id)}),[]),null===p||p===[]?Object(a.jsx)("div",{className:"all-page-wrapper flex__center",children:Object(a.jsx)(G,{})}):Object(a.jsxs)("div",{className:"main-post-wrapper",children:[Object(a.jsx)(fe,{post:p,auth:l,removeLikeFromPost:c,addLikeToTopicPage:r}),Object(a.jsx)("div",{className:"post-page-header",children:Object(a.jsx)(_e,{auth:l,post:p,createComment:o})}),Object(a.jsx)("div",{className:"comments-align-left",children:Object(a.jsx)(me,{comments:p.comments})})]})})),ve=function(){return function(){var e=Object(b.a)(h.a.mark((function e(t){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("http://localhost:8000/api/posts");case 3:s=e.sent,t({type:W,payload:s.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:K,payload:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},ge=function(){return function(){var e=Object(b.a)(h.a.mark((function e(t){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("http://localhost:8000/api/posts/most_recent");case 3:s=e.sent,t({type:te,payload:s.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:K,payload:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Ne=function(){return function(){var e=Object(b.a)(h.a.mark((function e(t){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("http://localhost:8000/api/posts/most_comments");case 3:s=e.sent,t({type:$,payload:s.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:K,payload:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},ye=function(){return function(){var e=Object(b.a)(h.a.mark((function e(t){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("http://localhost:8000/api/posts/most_liked");case 3:s=e.sent,t({type:Z,payload:s.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:K,payload:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},ke={addLikeToPost:function(e,t,s,a,n){return function(){var c=Object(b.a)(h.a.mark((function c(r){var o;return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,f.a.put("http://localhost:8000/api/posts/likes/".concat(e));case 3:o=c.sent,r({type:ee,payload:o.data}),t?r(ve()):s?r(ge()):a?r(Ne()):n&&r(ye()),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(0),r({type:K,payload:c.t0});case 11:case"end":return c.stop()}}),c,null,[[0,8]])})));return function(e){return c.apply(this,arguments)}}()},removeLikeFromTopicPost:function(e,t,s,a,n,c){return function(){var r=Object(b.a)(h.a.mark((function r(o){var i;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,f.a.delete("http://localhost:8000/api/posts/remove_like/".concat(e,"/").concat(t));case 3:i=r.sent,o({type:"REMOVE_LIKE",payload:i.data}),s?o(ve()):a?o(ge()):n?o(Ne()):c&&o(ye()),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),o({type:K});case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}},we=Object(M.b)((function(e){return{auth:e.auth}}),ke)((function(e){var t=e.isTheOldest,s=e.isTheMostCommented,n=e.isTheMostRecent,c=e.isTheMostLiked,r=e.post,o=e.removeLikeFromTopicPost,l=e.addLikeToPost,p=e.auth;return Object(a.jsxs)("div",{className:"topic-wrapper",children:[Object(a.jsx)("div",{className:"topic-date",children:Object(a.jsx)(re.a,{format:"HH:mm YYYY-MM-DD",children:r.date})}),Object(a.jsxs)("div",{className:"topic-user",children:[Object(a.jsx)("img",{src:r.avatar,className:"topic-avatar",alt:""}),Object(a.jsx)("p",{className:"font__p p__size",children:r.firstName})]}),Object(a.jsxs)("div",{className:"topic-section",children:[Object(a.jsx)("p",{children:r.postText}),Object(a.jsxs)("div",{className:"topic-section-links",children:[Object(a.jsxs)("div",{className:"like-section",style:{color:"rgb(42, 9, 9)"},children:[Object(a.jsx)("div",{className:"font__p font__bold p__size like-item",onClick:function(){r.likes.find((function(e){return e.user===p.user._id}))?r.likes.find((function(e){return o(r._id,e._id,t,n,s,c)})):l(r._id,t,n,s,c)},children:Object(a.jsx)("i",{className:r.likes.find((function(e){return e.user===p.user._id}))?"fas fa-thumbs-up":"far fa-thumbs-up"})}),Object(a.jsx)("div",{className:"font__p font__bold p__size likes-length-item",children:r.likes.length})]}),Object(a.jsxs)("div",{className:"topic-comment-section font__p font__bold p__size",children:[Object(a.jsx)("i",{className:"far fa-comment"}),r.comments.length]}),Object(a.jsx)("div",{className:"link-to-post-page-button app_color_background font__p font__bold p__size",children:Object(a.jsx)(i.b,{to:"/topics/topic/".concat(r._id),children:"View more"})})]})]})]})})),Te=function(e){var t=e.isTheOldest,s=e.isTheMostCommented,n=e.isTheMostRecent,c=e.isTheMostLiked,r=e.posts;return null!==r&&r.length>0&&r.map((function(e){return Object(a.jsx)(we,{isTheOldest:t,isTheMostCommented:s,isTheMostRecent:n,isTheMostLiked:c,post:e},e._id)}))},Ce={getPosts:ve,getMostRecentPosts:ge,getMostCommentedPosts:Ne,getMostLikedPosts:ye,searchTopics:function(e){return function(){var t=Object(b.a)(h.a.mark((function t(s){var a,n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={headers:{"Content-Type":"application/json"}},n=JSON.stringify({searchPost:e}),t.next=5,f.a.put("http://localhost:8000/api/posts/search_for_post",n,a);case 5:c=t.sent,s({type:X,payload:c.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),s({type:K,payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},Pe=Object(M.b)((function(e){return{posts:e.posts}}),Ce)((function(e){var t=e.getPosts,s=e.getMostRecentPosts,c=e.getMostCommentedPosts,r=e.getMostLikedPosts,o=e.searchTopics,i=e.posts,l=Object(n.useState)(""),p=Object(d.a)(l,2),u=p[0],j=p[1],h=Object(n.useState)({isTheOldest:!1,isTheMostRecent:!0,isTheMostCommented:!1,isTheMostLiked:!1}),b=Object(d.a)(h,2),m=b[0],f=b[1],_=m.isTheMostCommented,O=m.isTheOldest,x=m.isTheMostLiked,v=m.isTheMostRecent;Object(n.useEffect)((function(){O?t():_?c():x?r():s()}),[]);var g=function(e){"isTheMostLiked"===e?(f({isTheMostLiked:!0,isTheOldest:!1,isTheMostCommented:!1,isTheMostRecent:!1}),r()):"isTheOldest"===e?(f({isTheMostLiked:!1,isTheOldest:!0,isTheMostCommented:!1,isTheMostRecent:!1}),t()):"isTheMostCommented"===e?(f({isTheMostLiked:!1,isTheOldest:!1,isTheMostCommented:!0,isTheMostRecent:!1}),c()):(f({isTheMostLiked:!1,isTheOldest:!1,isTheMostCommented:!1,isTheMostRecent:!0}),s())};return Object(a.jsxs)("div",{children:[Object(a.jsxs)("header",{className:"topics-header",children:[Object(a.jsx)("p",{className:"app_color_font font__bold font__p topics-headline",children:"Topics"}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:O?"header-checkbox app_color_font p__size font__p font__bold":"header-checkbox app_color_font p__size font__p",children:[Object(a.jsx)("input",{type:"checkbox",value:O,checked:O,onChange:function(){return g("isTheOldest")}}),Object(a.jsx)("p",{onClick:function(){return g("isTheOldest")},children:"The Oldest"})]}),Object(a.jsxs)("div",{className:v?"header-checkbox app_color_font p__size font__p font__bold":"header-checkbox app_color_font p__size font__p",children:[Object(a.jsx)("input",{onChange:function(){return g("isTheMostRecent")},value:v,checked:v,type:"checkbox"}),Object(a.jsx)("p",{onClick:function(){return g("isTheMostRecent")},children:"The most recent"})]}),Object(a.jsxs)("div",{className:x?"header-checkbox app_color_font p__size font__p font__bold":"header-checkbox app_color_font p__size font__p",children:[Object(a.jsx)("input",{type:"checkbox",checked:x,value:x,onChange:function(){return g("isTheMostLiked")}}),Object(a.jsx)("p",{onClick:function(){return g("isTheMostLiked")},children:"The Most Liked"})]}),Object(a.jsxs)("div",{className:_?"header-checkbox app_color_font p__size font__p font__bold":"header-checkbox app_color_font p__size font__p",children:[Object(a.jsx)("input",{type:"checkbox",checked:_,value:_,onChange:function(){return g("isTheMostCommented")}}),Object(a.jsx)("p",{onClick:function(){return g("isTheMostCommented")},children:"The Most Commented"})]}),Object(a.jsxs)("form",{className:"search-topic-wrapper",children:[Object(a.jsx)("textarea",{type:"text",value:u,onChange:function(e){return function(e){return j(e.target.value)}(e)}}),Object(a.jsx)("div",{className:"topic-search-button app_color_background font__p font__bold",onClick:function(){return function(){if(""!==u||null!==u)return o(u);f({isTheMostRecent:!0,isTheMostCommented:!1,isTheMostLiked:!1,isTheOldest:!1}),s()}()},children:"Search for topic"})]})]}),Object(a.jsx)("div",{className:"topics-wrapper",children:Object(a.jsx)(Te,{isTheOldest:O,isTheMostCommented:_,isTheMostRecent:v,isTheMostLiked:x,posts:i.posts})})]})})),Se=function(){return function(){var e=Object(b.a)(h.a.mark((function e(t){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("http://localhost:8000/api/users/users");case 3:s=e.sent,t({type:"GET_USERS",payload:s.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:I,payload:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Me=function(e){var t=e.user;return Object(a.jsxs)("div",{className:"topic-wrapper",children:[Object(a.jsxs)("div",{className:"topic-user",children:[Object(a.jsx)("img",{src:t.avatar,className:"topic-avatar",alt:""}),Object(a.jsx)("p",{className:"font__p p__size",children:t.userName})]}),Object(a.jsx)("div",{className:"topic-section",children:Object(a.jsx)("div",{className:"topic-section-links",children:Object(a.jsx)("div",{className:"link-to-post-page-button app_color_background font__p font__bold p__size",children:Object(a.jsx)(i.b,{to:"users/user/".concat(t._id),children:"View Profile"})})})})]})},Le=function(e){var t=e.users;return null!==t&&t!==[]&&t!=={}&&t.length>0&&t.map((function(e){return Object(a.jsx)(Me,{user:e},e._id)}))},Ee=Object(M.b)(null,{searchByUsername:function(e){return function(){var t=Object(b.a)(h.a.mark((function t(s){var a,n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={headers:{"Content-Type":"application/json"}},n=JSON.stringify({searchValue:e}),t.next=5,f.a.put("http://localhost:8000/api/users/search_by_username",n,a);case 5:c=t.sent,s({type:C,payload:c.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),s({type:I,payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},getUsers:Se})((function(e){var t=e.getUsers,s=e.searchByUsername,c=Object(n.useState)(""),r=Object(d.a)(c,2),o=r[0],i=r[1];return Object(a.jsxs)("header",{className:"users-header",children:[Object(a.jsx)("p",{className:"app_color_font font__bold font__p users-headline",children:"Users"}),Object(a.jsx)("br",{}),Object(a.jsxs)("form",{className:"search-user-wrapper",children:[Object(a.jsx)("textarea",{type:"submit",onChange:function(e){return function(e){return i(e.target.value)}(e)},value:o}),Object(a.jsx)("div",{className:"user-search-button app_color_background font__p font__bold",onClick:function(){return function(){if(""!==o||null!==o)return s(o);t()}()},children:"Search for user"})]})]})})),Re=Object(M.b)((function(e){return{auth:e.auth}}),{getUsers:Se})((function(e){var t=e.getUsers,s=e.auth;return Object(n.useEffect)((function(){t()}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)(Ee,{}),Object(a.jsx)("div",{className:"users-wrapper",children:Object(a.jsx)(Le,{users:s.users},s._id)})]})})),ze=function(e){var t=e.createPost,s=Object(n.useState)(""),c=Object(d.a)(s,2),r=c[0],o=c[1];return Object(a.jsxs)("div",{className:"tips-wrapper",children:[Object(a.jsxs)("p",{className:"font__p p__size font__bold app_color_font",children:[Object(a.jsx)("i",{className:"fas fa-check-circle small_margin_right"}),"Tips on getting good answers quickly"]}),Object(a.jsx)("br",{}),Object(a.jsxs)("ul",{className:"tips",children:[Object(a.jsx)("li",{className:"tip-item",children:Object(a.jsxs)("p",{className:"font__p",children:[Object(a.jsx)("i",{className:"fas fa-check small_margin_right"}),"Make sure your question hasn't been asked already"]})}),Object(a.jsx)("li",{className:"tip-item",children:Object(a.jsxs)("p",{className:"font__p",children:[Object(a.jsx)("i",{className:"fas fa-check small_margin_right"}),"Keep your question short and to the point"]})}),Object(a.jsx)("li",{className:"tip-item",children:Object(a.jsxs)("p",{className:"font__p",children:[Object(a.jsx)("i",{className:"fas fa-check small_margin_right"}),"Double-check grammar and spelling"]})}),Object(a.jsx)("li",{className:"tip-item",children:Object(a.jsxs)("p",{className:"font__p",children:[Object(a.jsx)("i",{className:"fas fa-check small_margin_right"}),'Start Your question with "What","How","Why",etc.']})})]}),Object(a.jsxs)("form",{children:[Object(a.jsx)("textarea",{type:"text",value:r,onChange:function(e){return function(e){return o(e.target.value)}(e)}}),Object(a.jsx)("div",{onClick:function(){return""!==r&&null!==r?t(r):alert("Text is empty!"),void o("")},className:"app_color_background add-post-button font__p font__bold",children:"Add post"})]})]})},Ae=function(e){var t=e.clearPost;return Object(a.jsxs)("div",{className:"output",children:[Object(a.jsx)("div",{className:"output-header",children:Object(a.jsx)("p",{className:"font__bold font__p app_color_font",children:"POST ADDED"})}),Object(a.jsx)("div",{className:"output-buttons-wrapper",children:Object(a.jsxs)("div",{className:"output-buttons",children:[Object(a.jsx)("div",{onClick:function(){return t()},className:"new-post output-button app_color_background",children:Object(a.jsx)("p",{className:"p__size font__p",children:"Add New Post"})}),Object(a.jsx)("div",{className:"view-comment output-button app_color_background",children:Object(a.jsx)(i.b,{to:"/topics",className:"white__color__font",style:{textDecoration:"none"},children:Object(a.jsx)("p",{className:"p__size font__p",children:"View Posts"})})})]})})]})},Ue={createPost:function(e){return function(){var t=Object(b.a)(h.a.mark((function t(s){var a,n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={headers:{"Content-Type":"application/json"}},n=JSON.stringify({postText:e}),t.next=5,f.a.post("http://localhost:8000/api/posts",n,a);case 5:c=t.sent,s({type:J,payload:c.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),s({type:K,payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},clearPost:de},Ie=Object(M.b)((function(e){return{auth:e.auth,posts:e.posts}}),Ue)((function(e){var t=e.clearPost,s=e.createPost,n=e.posts.post;return setTimeout((function(){t()}),5e3),Object(a.jsx)("div",{className:"make-post-wrapper",children:null===n?Object(a.jsx)(ze,{createPost:s}):Object(a.jsx)(Ae,{clearPost:t})})})),De=function(e){var t=e.isLoggedIn,s=e.logOut;return Object(a.jsxs)("div",{className:"nav-links",children:[Object(a.jsxs)(i.b,{to:"/users",className:"href__style__remove nav__link",children:["Users ",Object(a.jsx)("i",{className:"fas fa-users"})]}),Object(a.jsxs)(i.b,{to:"/topics",className:"href__style__remove nav__link",children:["Topics ",Object(a.jsx)("i",{className:"fas fa-comments"})]}),Object(a.jsx)(i.b,{to:"/login",className:"href__style__remove nav__link",style:{display:t?"none":"flex"},children:"Log In"}),Object(a.jsx)(i.b,{to:"/register",className:"href__style__remove nav__link",style:{display:t?"none":"flex"},children:"Sign Up"}),Object(a.jsxs)(i.b,{to:"/account",className:"href__style__remove nav__link",style:{display:t?"flex":"none"},children:["Account ",Object(a.jsx)("i",{className:"fas fa-address-card"})]}),Object(a.jsxs)(i.b,{to:"/add-post",className:"href__style__remove nav__link",style:{display:t?"flex":"none"},children:["Add question ",Object(a.jsx)("i",{className:"fas fa-edit"})]}),Object(a.jsxs)(i.b,{to:"/login",className:"href__style__remove nav__link",onClick:function(){return s()},style:{display:t?"flex":"none"},children:["Log Out ",Object(a.jsx)("i",{className:"fas fa-sign-out-alt"})]})]})},He=function(){return Object(a.jsx)("div",{className:"logo-wrapper",children:Object(a.jsx)(i.b,{to:"/",children:Object(a.jsx)("img",{className:"image2",src:o,alt:"logo"})})})},Ye=Object(M.b)((function(e){return{auth:e.auth}}),{logOut:function(){return function(e){e({type:g})}}})((function(e){var t=e.logOut,s=e.auth.isLoggedIn,c=Object(n.useState)(!1),r=Object(d.a)(c,2),o=r[0],l=r[1];return Object(a.jsxs)("nav",{className:"main__nav",children:[Object(a.jsx)(He,{}),Object(a.jsx)(De,{logOut:t,isLoggedIn:s}),Object(a.jsx)("div",{className:"hamburger-wrapper",children:Object(a.jsx)("i",{className:"fas fa-bars hamburger-bar",onClick:function(){return l(!0)}})}),Object(a.jsxs)("div",{className:"sidebar-wrapper",style:{transition:"width .4s ease-in-out",width:o?"103vw":"0vw",zIndex:o?"3":"1"},children:[Object(a.jsx)("div",{className:"close-sidebar-wrapper",children:Object(a.jsx)("i",{onClick:function(){return l(!1)},className:"fas fa-times close-sidebar-icon"})}),Object(a.jsxs)("div",{className:"sidebar-links",children:[Object(a.jsx)(i.b,{className:"sidebar-link",style:{display:o?"block":"none"},to:"/users",onClick:function(){return l(!1)},children:"Users"}),Object(a.jsx)(i.b,{className:"sidebar-link",to:"/topics",style:{display:o?"block":"none"},onClick:function(){return l(!1)},children:"Topics"}),Object(a.jsx)(i.b,{className:"sidebar-link",to:"/add-post",style:{display:o&&s?"block":"none"},onClick:function(){return l(!1)},children:"Add question"}),Object(a.jsx)(i.b,{className:"sidebar-link",to:"/account",onClick:function(){return l(!1)},style:{display:o&&s?"block":"none"},children:"Account"}),Object(a.jsx)(i.b,{className:"sidebar-link",to:"/login",onClick:function(){t(),l(!1)},style:{display:o&&s?"block":"none"},children:"Log Out"}),Object(a.jsx)(i.b,{className:"sidebar-link",to:"/login",onClick:function(){return l(!1)},style:{display:o&&!s?"block":"none"},children:"Log In"}),Object(a.jsx)(i.b,{className:"sidebar-link",to:"/register",onClick:function(){return l(!1)},style:{display:o&&!s?"block":"none"},children:"Sign Up"})]})]})]})})),Fe=s(11),Be=s(42),Ge=s(18),Je=s(43),Ke={userProfile:null,profilePosts:null,errors:{}},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0,s=t.type,a=t.payload;switch(s){case Y:return Object(u.a)(Object(u.a)({},e),{},{userProfile:a});case H:case D:return Object(u.a)(Object(u.a)({},e),{},{profilePosts:a});case I:return Object(u.a)(Object(u.a)({},e),{},{userProfile:null,profilePosts:null,errors:a});default:return e}},We={posts:[],post:null,isLoading:!1,errors:{}},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0,s=t.type,a=t.payload;switch(s){case J:case q:case se:return Object(u.a)(Object(u.a)({},e),{},{post:a,isLoading:!1,errors:{}});case W:case te:case X:case $:case Z:return Object(u.a)(Object(u.a)({},e),{},{posts:a,errors:{},isLoading:!1});case Q:return Object(u.a)(Object(u.a)({},e),{},{posts:[],errors:{}});case ae:return Object(u.a)(Object(u.a)({},e),{},{post:null,errors:{}});case K:return Object(u.a)(Object(u.a)({},e),{},{errors:a,isLoading:!0});default:return e}},Qe=s(44),Xe={token:localStorage.getItem("token"),users:[],user:{},errors:{},isLoggedIn:!1,isAllowedToChangePassword:!1,isPasswordChanged:!1,isLoading:!1},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0,s=t.type,a=t.payload;switch(s){case _:return localStorage.setItem("token",a.token),Object(u.a)(Object(u.a)(Object(u.a)({},e),a),{},{isLoggedIn:!0,isAllowedToChangePassword:!1,isPasswordChanged:!1,isLoading:!1,errors:{}});case k:return Object(u.a)(Object(u.a)(Object(u.a)({},e),a),{},{isLoggedIn:!0,isAllowedToChangePassword:!1,isPasswordChanged:!1,isLoading:!1,errors:null});case N:return Object(u.a)(Object(u.a)(Object(u.a)({},e),a),{},{isAllowedToChangePassword:!0,errors:{}});case T:case C:return Object(u.a)(Object(u.a)({},e),{},{users:Object(Qe.a)(a),isLoggedIn:!0,isAllowedToChangePassword:!1,isPasswordChanged:!1,isLoading:!1,errors:null});case O:case x:case g:return localStorage.removeItem("token"),Object(u.a)(Object(u.a)(Object(u.a)({},e),a),{},{errors:a,user:{},isLoggedIn:!1,isAllowedToChangePassword:!1,isPasswordChanged:!1,isLoading:!1});case y:case w:return Object(u.a)(Object(u.a)({},e),{},{errors:a});case v:return localStorage.getItem("token"),Object(u.a)(Object(u.a)(Object(u.a)({},e),a),{},{user:a,errors:{},isLoggedIn:!0,isAllowedToChangePassword:!1,isPasswordChanged:!1,isLoading:!1});default:return e}},$e=Object(Ge.combineReducers)({users:Ve,posts:qe,auth:Ze}),et=[Je.a],tt=Object(Ge.createStore)($e,{},Object(Be.composeWithDevTools)(Ge.applyMiddleware.apply(void 0,et))),st=s(25),at=Object(M.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,s=e.auth.isLoggedIn,n=Object(st.a)(e,["component","auth"]);return Object(a.jsx)(Fe.b,Object(u.a)(Object(u.a)({},n),{},{render:function(e){return s?Object(a.jsx)(Fe.a,{to:"/"}):Object(a.jsx)(t,Object(u.a)({},e))}}))})),nt=Object(M.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,s=e.auth.isLoggedIn,n=Object(st.a)(e,["component","auth"]);return Object(a.jsx)(Fe.b,Object(u.a)(Object(u.a)({},n),{},{render:function(e){return s?Object(a.jsx)(t,Object(u.a)({},e)):Object(a.jsx)(Fe.a,{to:"/login"})}}))})),ct=(s(94),function(e){var t=e.message;return Object(a.jsx)("section",{className:"change-profile-section",children:Object(a.jsx)("div",{className:"change-password-input-wrapper flex__center",children:Object(a.jsx)("span",{className:"font__bold font__p p__size",children:t})})})}),rt=Object(M.b)((function(e){return{auth:e.auth}}),{checkPasswords:function(e){return function(){var t=Object(b.a)(h.a.mark((function t(s){var a,n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={headers:{"Content-Type":"application/json"}},n=JSON.stringify({passwordToCheck:e}),t.next=5,f.a.put("http://localhost:8000/api/users/check_password",n,a);case 5:c=t.sent,s({type:N,payload:c.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),s({type:y,payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},changePassword:function(e){return function(){var t=Object(b.a)(h.a.mark((function t(s){var a,n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={headers:{"Content-Type":"application/json"}},n=JSON.stringify({newPassword:e}),t.next=5,f.a.put("http://localhost:8000/api/users/change_password",n,a);case 5:c=t.sent,s({type:"CHANGE_PASSWORD",payload:c.data}),s(S()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),s({type:y,payload:t.t0});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.auth,s=t.errors,c=t.isAllowedToChangePassword,r=e.checkPasswords,o=e.changePassword,i=Object(n.useState)(!1),l=Object(d.a)(i,2),j=l[0],h=l[1],b=Object(n.useState)(!1),m=Object(d.a)(b,2),f=(m[0],m[1]),_=Object(n.useState)(!1),O=Object(d.a)(_,2),x=(O[0],O[1]),v=Object(n.useState)({firstPassword:"",secondPassword:"",newPassword:""}),g=Object(d.a)(v,2),N=g[0],y=g[1],k=N.firstPassword,w=N.secondPassword,T=N.newPassword,C=function(e){return y(Object(u.a)(Object(u.a)({},N),{},Object(p.a)({},e.target.name,e.target.value)))};return Object(a.jsxs)("div",{className:"change-profile-page-wrapper",children:[!1===c&&Object(a.jsxs)("form",{className:"change-profile-section",children:[Object(a.jsxs)("div",{className:"change-password-input-wrapper",children:[Object(a.jsx)("label",{className:"change-password-label p__size font__p font__bold",children:"Type actual password"}),Object(a.jsx)("input",{className:"change-password-input",placeholder:"Type Something...",type:"text",value:k,name:"firstPassword",onChange:function(e){return C(e)}})]}),Object(a.jsxs)("div",{className:"change-password-input-wrapper",children:[Object(a.jsx)("label",{className:"change-password-label p__size font__p font__bold",children:"Type again password"}),Object(a.jsx)("input",{className:"change-password-input",placeholder:"Type Something...",type:"text",value:w,name:"secondPassword",onChange:function(e){return C(e)}})]}),Object(a.jsx)("div",{className:"password-page-button",style:{marginTop:".5em"},onClick:function(e){k!==w?(x(!0),f(!1),alert("Passwords are wrong!")):""===k||null===k||""===w||null===w?(f(!0),alert("You haven't fullfiled some input")):r(k)},children:"Submit"})]}),c&&Object(a.jsx)("form",{className:"change-profile-section",children:Object(a.jsxs)("div",{className:"change-password-input-wrapper",children:[Object(a.jsx)("label",{className:"change-password-label p__size font__p font__bold",children:"Type New Password"}),Object(a.jsx)("input",{placeholder:"Type New Password...",value:T,name:"newPassword",onChange:function(e){return C(e)},type:"text"}),Object(a.jsx)("div",{className:"password-page-button",style:{marginTop:".5em"},onClick:function(){o(T),h(!0)},children:" Submit"})]})}),c&&s&&j&&Object(a.jsx)(ct,{message:"Password hasn't changed, something went wrong..."}),c&&!s&&j&&Object(a.jsx)(ct,{message:"Password has changed"})]})})),ot=function(e){var t=e.dataName,s=e.dataToShow;return Object(a.jsxs)("div",{className:"font__p data-item",children:[Object(a.jsx)("p",{style:{marginRight:".4em"},className:"font__bold",children:t})," ",s]})},it=function(e){var t=e.firstName,s=e.lastName,n=e.userName,c=e.email;return Object(a.jsxs)("div",{className:"data-items",children:[Object(a.jsx)(ot,{dataName:"First Name:",dataToShow:t}),Object(a.jsx)(ot,{dataName:"Last Name:",dataToShow:s}),Object(a.jsx)(ot,{dataName:"Username:",dataToShow:n}),Object(a.jsx)(ot,{dataName:"E-mail:",dataToShow:c})]})},lt=Object(M.b)((function(e){return{auth:e.auth,users:e.users}}),{getUserPosts:ne})((function(e){var t=e.getUserPosts,s=e.auth,c=s.firstName,r=s.lastName,o=s.userName,i=s.avatar,l=s.email,p=e.users.profilePosts;return Object(n.useEffect)((function(){t()}),[]),Object(a.jsxs)("div",{className:"account-page-wrapper",children:[Object(a.jsxs)("div",{className:"data",children:[Object(a.jsx)("img",{src:i,alt:""}),Object(a.jsx)(it,{firstName:c,lastName:r,email:l,userName:o})]}),Object(a.jsxs)("div",{className:"user-posts",children:[Object(a.jsx)("header",{className:"user-posts-header-wrapper app_color_background",children:null!==p||p!==[]?Object(a.jsx)("p",{className:"user-posts-header font__p font__bold",children:"Your topics"}):Object(a.jsx)("p",{className:"user-posts-header font__p font__bold",children:"You haven't made any posts yet"})}),Object(a.jsx)(le,{posts:p})]})]})}));localStorage.getItem("token")&&P(localStorage.getItem("token"));var pt=function(){return Object(n.useEffect)((function(){tt.dispatch(S())}),[]),Object(a.jsx)(i.a,{children:Object(a.jsxs)(M.a,{store:tt,children:[Object(a.jsx)(Ye,{}),Object(a.jsxs)(Fe.d,{children:[Object(a.jsx)(Fe.b,{path:"/",exact:!0,component:l}),Object(a.jsx)(Fe.b,{path:"/contact-us",exact:!0,component:A}),Object(a.jsx)(Fe.b,{path:"/users",exact:!0,component:Re}),Object(a.jsx)(Fe.b,{path:"/topics",exact:!0,component:Pe}),Object(a.jsx)(Fe.b,{path:"/users/user/:user_id",exact:!0,component:ue}),Object(a.jsx)(Fe.b,{path:"/topics/topic/:topic_id",exact:!0,component:xe}),Object(a.jsx)(at,{path:"/register",exact:!0,component:R}),Object(a.jsx)(at,{path:"/login",exact:!0,component:E}),Object(a.jsx)(nt,{path:"/change-password",exact:!0,component:rt}),Object(a.jsx)(nt,{path:"/account",exact:!0,component:z}),Object(a.jsx)(nt,{path:"/add-post",exact:!0,component:Ie}),Object(a.jsx)(nt,{path:"/change-profile",exact:!0,component:U}),Object(a.jsx)(nt,{path:"/my-profile",exact:!0,component:lt})]})]})})};r.a.render(Object(a.jsx)(pt,{}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.af61d239.chunk.js.map